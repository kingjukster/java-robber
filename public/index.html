<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Cops vs Robbers Game</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
      #nav-dropdown {
        position: fixed;
        top: 10px;
        right: 20px;
        z-index: 1000;
        background-color: #333;
        color: #fff;
        border: none;
        padding: 0.5em;
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <!-- Dropdown Navigation -->
    <select id="nav-dropdown" onchange="navigatePage(this.value)">
      <option value="index.html">üè† Home</option>
      <option value="stats.html">üìä Stats</option>
      <option value="simStats.html">‚öôÔ∏è Sim Stats</option>
    </select>

    <script>
      function navigatePage(page) {
        if (window.location.pathname.split("/").pop() !== page) {
          window.location.href = page;
        }
      }

      // Highlight the current page in the dropdown
      const current = window.location.pathname.split("/").pop();
      const nav = document.getElementById("nav-dropdown");
      for (let i = 0; i < nav.options.length; i++) {
        if (nav.options[i].value === current) {
          nav.selectedIndex = i;
          break;
        }
      }
    </script>

    <!-- Title screen (centered) -->
    <div id="title-screen">
      <h1>Cops vs Robbers Game</h1>
      <button id="start-game" onclick="startGame()">Start Game</button>
    </div>

    <!-- Main container for the game, hidden until start -->
    <div id="game-container" style="display: none">
      <div id="main-content">
        <div id="board-and-stats">
          <div id="board-with-buttons">
            <div id="game-board">
              <div id="grid"></div>
            </div>
            <div id="controls">
              <button id="next-turn-btn" onclick="nextTurn()">Next Turn</button>
              <button id="new-game-btn" onclick="newGame()">New Game</button>
              <button id="simulate-btn" onclick="simulateGame()">Simulate Game</button>
              <button id="sim-x-btn" onclick="simulateMultipleGames()">Sim X Games</button>
            </div>
          </div>

          <div id="stats-container">
            <div id="current-stats" class="stats-panel">
              <h3>Game Stats</h3>
              <div class="stat-item">
                <span class="stat-label">Turn:</span>
                <span id="stat-turn">0</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">Winner:</span>
                <span id="stat-winner">In Progress</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">Total Robber Loot:</span>
                <span id="stat-robber-loot">0</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">Robber Goal:</span>
                <span id="stat-robber-goal">200</span>
              </div>

              <h4>Robber Loot Progress</h4>
              <div class="progress-container">
                <div id="loot-progress" class="progress-bar"></div>
              </div>
            </div>

            <div id="player-stats-panel" class="stats-panel">
              <h3>Player Stats</h3>
              <div>
                <h4>Robbers</h4>
                <ul id="robber-list"></ul>
              </div>
              <div>
                <h4>Police</h4>
                <ul id="police-list"></ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
